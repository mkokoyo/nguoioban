<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Video Universe</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        :root { --bg: #050505; --card: #121212; --primary: #ff4757; --text: #eee; }
        body { margin: 0; font-family: 'Segoe UI', Tahoma, sans-serif; background: var(--bg); color: var(--text); }
        
        nav { padding: 15px 5%; display: flex; justify-content: space-between; align-items: center; background: #000; border-bottom: 1px solid #222; position: sticky; top:0; z-index:100; }
        .logo { font-weight: 900; font-size: 26px; color: var(--primary); text-transform: uppercase; }
        .admin-btn { background: #222; color: #fff; border: 1px solid #444; padding: 8px 15px; border-radius: 5px; cursor: pointer; }

        .container { max-width: 1300px; margin: 20px auto; padding: 0 20px; }

        /* T·ªâ l·ªá m·ªõi: Player nh·ªè h∆°n, Sidebar l·ªõn h∆°n */
        .hero-section { display: grid; grid-template-columns: 1.5fr 1fr; gap: 25px; margin-bottom: 50px; }
        .main-player { background: var(--card); border-radius: 12px; overflow: hidden; height: fit-content; }
        .video-box { position: relative; padding-bottom: 56.25%; height: 0; }
        .video-box iframe { position: absolute; top:0; left:0; width:100%; height:100%; border:0; }
        
        .sidebar-list { background: var(--card); padding: 15px; border-radius: 12px; height: 450px; overflow-y: auto; }
        .side-item { display: flex; gap: 15px; cursor: pointer; margin-bottom: 15px; transition: 0.3s; }
        .side-item:hover { background: #222; border-radius: 8px; }
        .side-item img { width: 160px; height: 90px; border-radius: 8px; object-fit: cover; }
        .side-item div h4 { margin: 0; font-size: 15px; color: #fff; }

        /* Playlists */
        .playlist-row { margin-bottom: 40px; }
        .playlist-title { font-size: 20px; font-weight: bold; margin-bottom: 15px; border-left: 5px solid var(--primary); padding-left: 15px; color: var(--primary); }
        .video-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; }
        .grid-item { cursor: pointer; transition: 0.3s; text-align: center; }
        .grid-item img { width: 100%; border-radius: 8px; aspect-ratio: 16/9; }
        .grid-item p { font-size: 13px; margin: 5px 0; color: #ccc; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

        /* Admin Dashboard */
        .admin-modal { background: #1a1a1a; padding: 25px; border-radius: 15px; border: 2px solid var(--primary); margin-bottom: 30px; }
        .form-row { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-top: 15px; }
        input, select { padding: 10px; background: #000; color: #fff; border: 1px solid #444; border-radius: 5px; }
        .btn-post { background: var(--primary); color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-weight: bold; }

        @media (max-width: 900px) { .hero-section { grid-template-columns: 1fr; } .video-grid { grid-template-columns: repeat(2, 1fr); } }
    </style>
</head>
<body>

<div id="app">
    <nav>
        <div class="logo">GEMINI STUDIO</div>
        <button class="admin-btn" @click="isAdmin = !isAdmin">üîß Qu·∫£n l√Ω h·ªá th·ªëng</button>
    </nav>

    <div class="container">
        <div v-if="isAdmin" class="admin-modal">
            <h3 style="margin:0">‚ûï ƒêƒÉng Video M·ªõi</h3>
            <div class="form-row">
                <input v-model="newVideo.title" placeholder="Ti√™u ƒë·ªÅ video...">
                <input v-model="newVideo.id" placeholder="ID YouTube (vd: dQw4w9WgXcQ)">
                <select v-model="newVideo.category">
                    <option value="short">Video Ng·∫Øn</option>
                    <option value="daily">Cu·ªôc s·ªëng th∆∞·ªùng ng√†y</option>
                    <option value="food">·∫®m th·ª±c l√†ng qu√™</option>
                    <option value="explore">G√≥c kh√°m ph√°</option>
                </select>
            </div>
            <button class="btn-post" style="margin-top:15px" @click="addNewVideo">ƒêƒÉng b√†i ngay</button>
        </div>

        <div class="hero-section">
            <div class="main-player">
                <div class="video-box">
                    <iframe :src="'https://www.youtube.com/embed/' + currentId" allowfullscreen></iframe>
                </div>
                <div style="padding:15px">
                    <h2 style="margin:0">{{ currentTitle }}</h2>
                    <p style="color:gray">ƒêang xem n·ªôi dung ƒë∆∞·ª£c ch·ªçn</p>
                </div>
            </div>

            <div class="sidebar-list">
                <h3 style="margin-top:0">Video ti·∫øp theo</h3>
                <div v-for="v in allVideos.slice(0, 8)" class="side-item" @click="playVideo(v)">
                    <img :src="'https://img.youtube.com/vi/'+v.id+'/mqdefault.jpg'">
                    <div>
                        <h4>{{ v.title }}</h4>
                        <span style="font-size:12px; color:gray">V·ª´a ƒëƒÉng t·∫£i</span>
                    </div>
                </div>
            </div>
        </div>

        <div v-for="cat in categories" :key="cat.slug" class="playlist-row">
            <div class="playlist-title">{{ cat.name }}</div>
            <div class="video-grid">
                <div v-for="v in getVideosByCategory(cat.slug)" class="grid-item" @click="playVideo(v)">
                    <img :src="'https://img.youtube.com/vi/'+v.id+'/mqdefault.jpg'">
                    <p>{{ v.title }}</p>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
const { createApp, ref, onMounted } = Vue;

createApp({
    setup() {
        const isAdmin = ref(false);
        const currentId = ref("dQw4w9WgXcQ");
        const currentTitle = ref("B·∫£n tin ch√†o m·ª´ng");
        const newVideo = ref({ title: '', id: '', category: 'short' });

        const categories = [
            { name: "Video Ng·∫Øn", slug: "short" },
            { name: "Cu·ªôc s·ªëng th∆∞·ªùng ng√†y", slug: "daily" },
            { name: "·∫®m th·ª±c l√†ng qu√™", slug: "food" },
            { name: "G√≥c kh√°m ph√°", slug: "explore" }
        ];

        const allVideos = ref([
            { id: "jNQXAC9IVRw", title: "Video Ng·∫Øn 01", category: "short" },
            { id: "9bZkp7q19f0", title: "C∆°m qu√™ ng√†y m∆∞a", category: "food" },
            { id: "2Vv-BfVoq4g", title: "Kh√°m ph√° r·ª´ng gi√†", category: "explore" },
            { id: "kJQP7kiw5Fk", title: "M·ªôt ng√†y l√†m v∆∞·ªùn", category: "daily" }
        ]);

        onMounted(() => {
            const saved = localStorage.getItem('myVideos');
            if(saved) allVideos.value = JSON.parse(saved);
        });

        const addNewVideo = () => {
            if(!newVideo.value.title || !newVideo.value.id) return alert("Vui l√≤ng nh·∫≠p ƒë·ªß th√¥ng tin!");
            // Th√™m v√†o ƒë·∫ßu danh s√°ch (m·ªõi nh·∫•t)
            allVideos.value.unshift({...newVideo.value});
            localStorage.setItem('myVideos', JSON.stringify(allVideos.value));
            newVideo.value = { title: '', id: '', category: 'short' };
            alert("ƒêƒÉng b√†i th√†nh c√¥ng!");
        };

        const getVideosByCategory = (slug) => {
            return allVideos.value.filter(v => v.category === slug).slice(0, 5);
        };

        const playVideo = (v) => {
            currentId.value = v.id;
            currentTitle.value = v.title;
            window.scrollTo({ top: 0, behavior: 'smooth' });
        };

        return { isAdmin, currentId, currentTitle, newVideo, categories, allVideos, addNewVideo, getVideosByCategory, playVideo };
    }
}).mount('#app');
</script>
</body>
</html>
